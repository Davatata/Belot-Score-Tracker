// global variable to store current row during changes
var curRow = null;
var team1 = "Team1";
var team2 = "Team2";
var t1 = "T1";
var t2 = "T2";

function addRow(contract, attacker, suit, special, team1s, 
	team1b, team2s, team2b){
	// find the table and its last row
	var myTable = document.getElementById("score_table");
    var currentIndex = myTable.rows.length;
    var currentRow = myTable.insertRow(-1);

    // create 

}

function addRow2() {
    var t = $('#score_table').DataTable();
    var counter = 1;
 
    $('#done').on( 'click', function () {
        t.row.add( [
            counter +'.1',
            counter +'.2',
            counter +'.3',
            counter +'.4',
            counter +'.5'
        ] ).draw( false );
 
        counter++;
    } );
 
    // Automatically add a first row of data
    $('#addRow').click();
}

$('.bet_row').click(function() {
	curRow = $(this);
	showRowModal();
});

function showRowModal(){
	$("#contract_amt").val(parseInt(curRow.find(':nth-child(1)').text()));
	$("#attacker_chosen").val((curRow.find(':nth-child(5)').text()));
	// suit -> (heart, diamo, clubs, spade)
	var suit = curRow.find(':nth-child(2)').html().substring(17,22);
	if(suit=="") suit = "A";
	console.log(suit);
	$("#suit_chosen").val(suit);
	$("#special_chosen").val((curRow.find(':nth-child(6)').text()));
	$("#team1_points").val(parseInt(curRow.find(':nth-child(7)').text()));
	$("#team1_bonus").val(parseInt(curRow.find(':nth-child(8)').text()));
	$("#team2_points").val(parseInt(curRow.find(':nth-child(9)').text()));
	$("#team2_bonus").val(parseInt(curRow.find(':nth-child(10)').text()));
	$("#newBet").foundation('open');
	

}

function closeTopBar(){
	$(".top-bar").toggle();
}

function newGame(){

}

function newBet(){
	resetModal();
}

function resetModal(){
	$("#reset_button").trigger("click");
}

function getSuit(suit){
	var suit_img = "";
	switch(suit){
		case "heart":
			suit_img = '<img src="images/heart.png" />';
			break;
		case "spade":
			suit_img = '<img src="images/spade.png" />';
			break;
		case "clubs":
			suit_img = '<img src="images/clubs.png" />';
			break;
		case "diamo":
			suit_img = '<img src="images/diamo.png" />';
			break;
	}

	return suit_img;
}